(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[960],{1676:function(e,i,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/films/[id]",function(){return s(7964)}])},6463:function(e,i,s){"use strict";s.d(i,{Z:function(){return a}});var t=s(5893),n=s(5202),r=s.n(n);let l=[1,2,3,4,5];function a(e){let{value:i=1}=e;return(0,t.jsx)("span",{className:r().starRating,children:l.map(e=>i>=e?"★":"✩")})}},7072:function(e,i,s){"use strict";var t=s(7066);let n=t.Z.create({baseURL:"https://learn.codeit.kr/api/watchit"});i.Z=n},7964:function(e,i,s){"use strict";s.r(i),s.d(i,{default:function(){return g}});var t=s(5893),n=s(7294),r=s(1163),l=s(7715),a=s.n(l),c=s(6463);let o={sex:{male:"남성",female:"여성"}};function d(e){let{movieReview:i}=e;return(0,t.jsxs)("li",{className:a().movieReview,children:[(0,t.jsx)("div",{className:a().date,children:function(e){let i=new Date(e);return i.toLocaleDateString("ko-KR")}(i.createdAt)}),(0,t.jsx)("div",{children:o.sex[i.sex]}),(0,t.jsxs)("div",{className:a().age,children:[i.age,"대"]}),(0,t.jsx)(c.Z,{value:i.starRating})]})}function _(e){let{movieReviews:i}=e;return i&&0!==i.length?(0,t.jsx)("ul",{className:a().movieReviewList,children:i.map(e=>(0,t.jsx)(d,{movieReview:e},e.id))}):(0,t.jsx)("div",{className:a().empty,children:"아직 작성된 리뷰가 없습니다."})}var h=s(7457),v=s.n(h),x=s(7072),j=s(5675),u=s.n(j),m=s(9008),f=s.n(m);let w={rating:{12:"12세이상관람가",15:"15세이상관람가",19:"청소년관람불가",all:"전체관람가"}};function g(){let[e,i]=(0,n.useState)(),[s,l]=(0,n.useState)([]),a=(0,r.useRouter)(),c=a.query.id;async function o(e){let s=await x.Z.get("/movies/".concat(e)),t=s.data;i(t)}async function d(e){var i;let s=await x.Z.get("/movie_reviews/?movie_id=".concat(e)),t=null!==(i=s.data.results)&&void 0!==i?i:[];l(t)}return((0,n.useEffect)(()=>{c&&(o(c),d(c))},[c]),e)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f(),{children:(0,t.jsxs)("title",{children:[e.title," - codeit"]})}),(0,t.jsxs)("div",{className:v().header,children:[(0,t.jsx)("div",{className:v().poster,children:(0,t.jsx)(u(),{fill:!0,src:e.posterUrl,alt:e.title})}),(0,t.jsxs)("div",{className:v().info,children:[(0,t.jsx)("div",{className:v().englishTitle,children:e.englishTitle}),(0,t.jsx)("h1",{className:v().title,children:e.title}),(0,t.jsx)("table",{className:v().infoTable,children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"개봉"})," ",(0,t.jsx)("td",{children:e.date})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"장르"})," ",(0,t.jsx)("td",{children:e.genre})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"국가"})," ",(0,t.jsx)("td",{children:e.country})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"등급"})," ",(0,t.jsx)("td",{children:w.rating[e.rating]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"러닝타임"})," ",(0,t.jsxs)("td",{children:[e.runningTime,"분"]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"평점"})," ",(0,t.jsxs)("td",{className:v().starRating,children:["★",e.starRating]})]})]})})]})]}),(0,t.jsxs)("section",{className:v().section,children:[(0,t.jsx)("h2",{className:v().sectionTitle,children:"소개"}),(0,t.jsx)("p",{className:v().description,children:e.description}),(0,t.jsx)("span",{className:v().readMore,children:"더보기"})]}),(0,t.jsxs)("div",{className:v().reviewSections,children:[(0,t.jsx)("section",{children:(0,t.jsx)("h2",{className:v().sectionTitle,children:"내 리뷰 작성하기"})}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:v().sectionTitle,children:"리뷰"}),(0,t.jsx)(_,{movieReviews:s})]})]})]}):null}},5202:function(e){e.exports={starRating:"StarRating_starRating__UuQhc"}},7457:function(e){e.exports={loading:"Movie_loading__5heg8",header:"Movie_header__VhVSN",poster:"Movie_poster__RIj7V",info:"Movie_info__1B1JG",englishTitle:"Movie_englishTitle__0WVEo",title:"Movie_title__SjU4w",infoTable:"Movie_infoTable__0ctg5",starRating:"Movie_starRating__sZAvB",section:"Movie_section__3RMjd",description:"Movie_description__e7Dmy",readMore:"Movie_readMore__LsDkO",reviewSections:"Movie_reviewSections__DzZFW",sectionTitle:"Movie_sectionTitle__EG4aQ",reviewForm:"Movie_reviewForm__1eyfT",dropdown:"Movie_dropdown__ZZxS9",submit:"Movie_submit__gxREe"}},7715:function(e){e.exports={empty:"MovieReviewList_empty__wV7Kf",movieReviewList:"MovieReviewList_movieReviewList__nxyCM",movieReview:"MovieReviewList_movieReview___EsRC",date:"MovieReviewList_date__mxE55",age:"MovieReviewList_age__Hj0Fr"}}},function(e){e.O(0,[31,774,888,179],function(){return e(e.s=1676)}),_N_E=e.O()}]);